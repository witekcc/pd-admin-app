<template>
  <require from="./components/bucketEditor/view" as="editor"></require>
  <require from="./components/bucketTypeSelector/view" as="type-selector"></require>
  <require from="./components/bucketSelector/view" as="bucket-selector"></require>
    <require from="./components/statusBar/view" as="status"></require>
  <div class="container">
    <div class="row">
      <div class="col-md-12">
        <div class="page-header jumbotron text-center">
          <h2>
            Demographic Ranking <br />
            <small>Bucket Management</small>
          </h2>
        </div>
        <status message.bind="message" show.bind="AlertState"></status>
      </div>
    </div>
    <div class="row">
      <div class="col-md-4">
        <button click.delegate="NewBucket()" class ="btn btn-default">
          <span class="glyphicon glyphicon-plus" aria-hidden="true"></span> New Bucket
        </button>
        <div class="panel panel-primary">
          <div class="panel-heading">Bucket Selection</div>
          <div class="panel-body">
            <type-selector
              options.one-time="model.BucketTypes"
              selected.two-way="selected"
            ></type-selector>
            <bucket-selector
              buckets.two-way="model.Buckets[selected]"
              bucket.two-way="selectedBucket"
            ></bucket-selector>
          </div>
        </div>
      </div>
      <div class="col-md-8">
        <div class="well well-lg" if.bind="!EditState">
          <p class="text-center">
            Select a bucket from the "Bucket Selection" to edit or click
            "New Bucket" to create a new one.
          </p>
        </div>
        <div class="panel panel-primary" if.bind="EditState">
          <div class="panel-heading">Bucket Editor</div>
          <editor bucket.one-way="selectedBucket"></editor>
        </div>
      </div>
    </div>
  </div>
</template>
